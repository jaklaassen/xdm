{
    "meta:license": [
        "Copyright 2017 Adobe Systems Incorporated. All rights reserved.",
        "This file is licensed to you under the Apache License, Version 2.0 (the 'License');",
        "you may not use this file except in compliance with the License. You may obtain a copy",
        "of the License at http://www.apache.org/licenses/LICENSE-2.0"
    ],
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "https://ns.adobe.com/xdm-extensions/engage/activity",
    "title": "Engage Activity",
    "description": "An activity with Engage-specific extensions",
    "definitions": {
      "activity": {
        "type": "object",
        "properties": {
          "xdm:destinations": {
            "title": "Publishing Destinations",
            "type": "array",
            "items": {
              "$ref": "https://ns.adobe.com/xdm-extensions/engage/deliverydestination"
            }
          },
          "xdm:publishingStatus": {
            "title": "Status for each of the destinations",
            "tagNumber": 3,
            "type": "array",
            "items": {
              "type": "string",
              "default": "pending",
              "meta:enum": [
                "pending",
                "scheduled",
                "queued",
                "delivered",
                "failed",
                "cancelled",
                "expired"
              ]
            }
          },
          "xdm:template": {
            "title": "Template",
            "type": {
              "ref": "https://ns.adobe.com/xdm-extensions/engage/template"
            }
          },
          "xdm:approvalStatus": {
            "title": "Approval Status",
            "type": "string",
            "default": "draft",
            "meta:enum": [
              "draft",
              "pending",
              "approved",
              "rejected"
            ]
          }
        }
      }
    },
    "allOf": [
        { "$ref": "https://ns.adobe.com/xdm/campaigns/activity" },
        { "$ref": "#/definitions/activity" }
    ]
}
